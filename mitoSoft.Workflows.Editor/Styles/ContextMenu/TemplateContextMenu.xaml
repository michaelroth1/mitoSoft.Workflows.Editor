<ResourceDictionary      
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ControlTemplate x:Key="TemplateContextMenu" TargetType="{x:Type ContextMenu}">
        <Border SnapsToDevicePixels="true" Margin="0,0,5,5" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}">
            <Border.Effect>
                <DropShadowEffect BlurRadius="5" Opacity="0.4"/>
            </Border.Effect>
            <ItemsPresenter SnapsToDevicePixels="true"/>
        </Border>
    </ControlTemplate>

</ResourceDictionary>